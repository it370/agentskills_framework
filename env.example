# AgentSkills Framework - Environment Configuration Template

# =============================================================================
# API KEYS
# =============================================================================

# OpenAI API Key (required for LLM-based skills)
OPENAI_API_KEY=your_openai_api_key_here

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================

# Main PostgreSQL database for workflow orchestration
DATABASE_URL=postgresql://user:password@localhost:5432/agentskills

# Optional MongoDB for business data / mock APIs
# MONGODB_URI=mongodb://localhost:27017
# MONGODB_DB=clearstar_business

# =============================================================================
# PUB/SUB CONFIGURATION
# =============================================================================

# Pub/Sub backend: 'postgres' or 'redis'
PUBSUB_BACKEND=postgres

# Redis configuration (if using PUBSUB_BACKEND=redis)
# REDIS_HOST=localhost
# REDIS_PORT=6379
# REDIS_USERNAME=default
# REDIS_PASSWORD=

# =============================================================================
# REAL-TIME BROADCASTING
# =============================================================================

# Broadcaster type: 'pusher' or 'appsync'
BROADCASTER_TYPE=pusher

# --- Pusher Configuration (if BROADCASTER_TYPE=pusher) ---
# Sign up at https://pusher.com to get credentials
PUSHER_APP_ID=your_pusher_app_id
PUSHER_KEY=your_pusher_key
PUSHER_SECRET=your_pusher_secret
PUSHER_CLUSTER=ap2  # Choose: us2, eu, ap1, ap2, ap3, ap4, etc.

# --- AWS AppSync Event API Configuration (if BROADCASTER_TYPE=appsync) ---
# Create an Event API in AWS AppSync console with API Key authorization mode
# Format: https://{api-id}.appsync-api.{region}.amazonaws.com/event
APPSYNC_API_URL=https://your-api-id.appsync-api.us-east-1.amazonaws.com/event
APPSYNC_API_ID=your-api-id
APPSYNC_REGION=us-east-1
# AppSync API Key (REQUIRED - get from AppSync console → Settings → API Keys)
APPSYNC_API_KEY=da2-xxxxxxxxxxxxxxxxxxxxxxxxxx
# AppSync namespace (default: 'default')
APPSYNC_NAMESPACE=default

# =============================================================================
# CONNECTION POOLING
# =============================================================================

# PostgreSQL connection pool
POSTGRES_POOL_MAX_SIZE=5
POSTGRES_POOL_MIN_SIZE=3

# MongoDB connection pool (if using MongoDB)
MONGO_MAX_POOL_SIZE=10
MONGO_MIN_POOL_SIZE=2

# =============================================================================
# SERVER CONFIGURATION
# =============================================================================

# REST API server
REST_API_HOST=0.0.0.0
REST_API_PORT=8000

# Enable auto-reload during development (set to 'true' for dev mode)
# RELOAD=false

# =============================================================================
# SECURITY & AUTHENTICATION
# =============================================================================

# Credential encryption master key (generate with: python -c "import secrets; print(secrets.token_hex(32))")
CREDENTIAL_MASTER_KEY=your_64_character_hex_key_here

# Default user ID for credential access (when no user_context provided)
# DEFAULT_USER_ID=system

# JWT Secret for authentication tokens
# JWT_SECRET=your_jwt_secret_here

# =============================================================================
# SSL/TLS CONFIGURATION (Optional)
# =============================================================================

# Enable HTTPS/WSS for REST API
# Uncomment and provide paths to SSL certificate files
# SSL_KEYFILE=./cert/key.pem
# SSL_CERTFILE=./cert/cert.pem

# To generate self-signed certificates, run:
#   powershell: .\setup-ssl.ps1
#   bash: ./setup-ssl.sh

# =============================================================================
# CORS CONFIGURATION
# =============================================================================

# Allowed origins for CORS (comma-separated, use * for development)
ALLOWED_ORIGINS=*

# For production, specify exact origins:
# ALLOWED_ORIGINS=https://yourdomain.com,https://admin.yourdomain.com

# =============================================================================
# LEGACY SOCKET.IO (Optional - for backward compatibility)
# =============================================================================

# If you need to run Socket.IO alongside Pusher during migration:
# SOCKETIO_HOST=0.0.0.0
# SOCKETIO_PORT=7000
# SOCKETIO_CORS_ORIGINS=*
# SOCKETIO_INTERNAL_HOST=127.0.0.1

# =============================================================================
# NOTES
# =============================================================================

# 1. Copy this file to '.env' and fill in your actual values
# 2. Never commit '.env' to version control (already in .gitignore)
# 3. Pusher credentials can be obtained from https://dashboard.pusher.com
# 4. For production, use strong passwords and rotate keys regularly
# 5. Restart server after changing environment variables
